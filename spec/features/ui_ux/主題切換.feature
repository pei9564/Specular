Feature: 主題切換
  支援淺色、深色及跟隨系統的主題模式，並規範品牌色彩

  Background:
    Given 系統支援的主題模式為: "light", "dark", "system"
    And 系統品牌主色調為 "#D4AF37" (金色)
    And 系統預設主題為 "system" (跟隨系統)
  # ============================================================
  # Rule: 主題模式切換
  # ============================================================

  Rule: 用戶可以在不同主題模式間切換，並即時預覽效果

    Example: 切換至深色主題 (Dark Mode)
      When 用戶將主題設定切換為 "dark"
      Then 應用程式背景色應變更為深色 "#0F172A"
      And 文字顏色應變更為淺色以確保對比度
      And 用戶偏好 "theme" 應更新為 "dark" 並儲存至 localStorage

    Example: 切換至淺色主題 (Light Mode)
      When 用戶將主題設定切換為 "light"
      Then 應用程式背景色應變更為淺色 "#F8FAFC"
      And 文字顏色應變更為深色
      And 用戶偏好 "theme" 應更新為 "light" 並儲存至 localStorage

    Example: 跟隨系統設定 (System)
      Given 用戶的操作系統設定為 "dark" 模式
      When 用戶將主題設定切換為 "system"
      Then 應用程式應自動偵測並應用深色主題
      And 當操作系統的主題變更時，應用程式應自動跟隨變更
      And 用戶偏好 "theme" 應更新為 "system"
  # ============================================================
  # Rule: 品牌色彩應用
  # ============================================================

  Rule: 在所有主題下，核心品牌元素應保持一致性

    Example: 品牌主色調應用
      When 顯示主要的互動按鈕 (Primary Button)
      Then 按鈕背景色應為品牌金 "#D4AF37"
      And 顯示應用程式 Logo 時，應使用品牌金配色

    Example: OLED 螢幕優化
      When 處於深色主題下
      Then 黑色背景應使用純黑或極深色調以節省 OLED 螢幕耗電
      And 避免過度的高亮白色，使用柔和的灰白色文字
  # ============================================================
  # Rule: 持久化偏好
  # ============================================================

  Rule: 用戶的主題偏好應在重新訪問時保持

    Example: 記住用戶選擇
      Given 用戶上次訪問時選擇了 "dark" 主題
      When 用戶重新開啟應用程式
      Then 應用程式應自動載入 "dark" 主題
      And 無需用戶重新設定
